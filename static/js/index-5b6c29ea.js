import{s as e}from"./qr-scanner-wechat-b0946001.js";import{u as t,r as l,B as r,G as a,H as s}from"./@vue-9e8b8607.js";import{_ as i}from"./index-4f2bcba1.js";import"./vue-router-5b243938.js";import"./nprogress-81a68ea4.js";import"./@amap-89f34825.js";import"./vue-i18n-dd590962.js";import"./@intlify-5d791b8c.js";import"./pinia-9547b36b.js";const n=["src"],o=i(t({__name:"index",setup(t){const i=l(),o=l(""),c=l(),d=new Map,u=l(),f=async t=>{var l;const r=t.target;if(!r)return;if(!(null==(l=r.files)?void 0:l.length))return;const a=r.files[0],s=URL.createObjectURL(a);o.value=s;const n=document.createElement("canvas");n.width=300,n.height=300;const f=n.getContext("2d",{willReadFrequently:!0});c.value&&(c.value.onload=async()=>{var t;if(f){f.drawImage(c.value,0,0,300,300),null==(t=i.value)||t.appendChild(n),f.fillStyle="black";for(let t=0;t<5;t++){const t=await e(n);if(!t.rect||!t.text)continue;d.set(t.text,t.rect);const{x:l,y:r,width:a,height:s}=t.rect;f.fillRect(l,r,a,s)}d.forEach(((e,t)=>{if(!u.value)return;const l=document.createElement("div"),{x:r,y:a,width:s,height:i}=e,n=(r||0)+s/2-20,o=(a||0)+i/2-20;l.className="blue-chunk",l.style.width="40px",l.style.height="40px",l.style.background="#2ec1cc",l.style.position="absolute",l.style.zIndex="9999999",l.style.top=o+"px",l.style.left=n+"px",l.style.color="#fff",l.style.textAlign="center",l.style.borderRadius="100px",l.style.borderBlockColor="#fff",l.style.borderColor="unset",l.style.borderRightStyle="solid",l.style.borderWidth="3px",l.style.animation="scale-animation 2s infinite",l.addEventListener("click",(()=>{})),u.value.appendChild(l)}))}})};let p="";return document.querySelector("#Q5t3T").querySelector("table").querySelectorAll("tr").forEach(((e,t)=>{let l="";e.querySelectorAll("td").forEach((e=>{const t=e.innerText.trim().length>0;l+=`${e.innerText.trim()}${t?" ":""}`})),p+=`${l}\n`})),(e,t)=>(r(),a("div",{ref_key:"wrapper",ref:i,class:"w-full h-full bg-red flex flex-col items-center"},[s("div",{ref_key:"imgWrapper",ref:u,class:"relative"},[s("img",{src:o.value,ref_key:"imgEl",ref:c,alt:"",class:"w-300px h-300px object-contain"},null,8,n)],512),s("div",null,[s("input",{type:"file",onChange:f,accept:"image/*"},null,32)])],512))}}),[["__scopeId","data-v-7ce574e6"]]);export{o as default};
