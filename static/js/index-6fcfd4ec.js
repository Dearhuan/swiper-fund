var e=Object.defineProperty,t=(t,n,o)=>(((t,n,o)=>{n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o})(t,"symbol"!=typeof n?n+"":n,o),o);import{B as n,C as o,D as r,r as i,n as a,E as s}from"./@vue-9e8b8607.js";import{_ as l}from"./qr-scanner-wechat-b0946001.js";import{c,a as d}from"./vue-router-5b243938.js";import{N as m}from"./nprogress-81a68ea4.js";import{c as p}from"./vue-i18n-dd590962.js";import{c as u}from"./pinia-9547b36b.js";import"./@amap-89f34825.js";import"./@intlify-5d791b8c.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const h=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n};const f=h({},[["render",function(e,t){const i=r("router-view");return n(),o(i)}]]),g=!("undefined"==typeof window),b=(e={})=>{const t=document,n=`__${Math.random().toString(36).slice(2,7)}`,o={box:`msg-box${n}`,hide:`hide${n}`,text:`msg-text${n}`,icon:`msg-icon${n}`},r=t.createElement("style");r.textContent=`\n  .${o.box}, .${o.icon}, .${o.text} {\n    padding: 0;\n    margin: 0;\n    box-sizing: border-box;\n  }\n  .${o.box} {\n    position: fixed;\n    top: 0;\n    left: 50%;\n    display: flex;\n    padding: 12px 16px;\n    border-radius: 2px;\n    background-color: #fff;\n    box-shadow: 0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12);\n    white-space: nowrap;\n    animation: ${o.box}-move .4s;\n    transition: .4s all;\n    transform: translate3d(-50%, 0%, 0);\n    opacity: 1;\n    overflow: hidden;\n  }\n  .${o.box}::after {\n    content: "";\n    position: absolute;\n    left: 0;\n    top: 0;\n    height: 100%;\n    width: 4px;\n  }\n  @keyframes ${o.box}-move {\n    0% {\n      opacity: 0;\n      transform: translate3d(-50%, -100%, 0);\n    }\n    100% {\n      opacity: 1;\n      transform: translate3d(-50%, 0%, 0);\n    }\n  }\n  .${o.box}.${o.hide} {\n    opacity: 0;\n    /* transform: translate3d(-50%, -100%, 0); */\n    transform: translate3d(-50%, -100%, 0) scale(0);\n  }\n  .${o.icon} {\n    display: inline-block;\n    width: 18px;\n    height: 18px;\n    border-radius: 50%;\n    overflow: hidden;\n    margin-right: 6px;\n    position: relative;\n  }\n  .${o.text} {\n    font-size: 14px;\n    line-height: 18px;\n    color: #555;\n  }\n  .${o.icon}::after,\n  .${o.icon}::before {\n    position: absolute;\n    content: "";\n    background-color: #fff;\n  }\n  .${o.box}.info .${o.icon}, .${o.box}.info::after {\n    background-color: #1890ff;\n  }\n  .${o.box}.success .${o.icon}, .${o.box}.success::after {\n    background-color: #52c41a;\n  }\n  .${o.box}.warning .${o.icon}, .${o.box}.warning::after {\n    background-color: #faad14;\n  }\n  .${o.box}.error .${o.icon}, .${o.box}.error::after {\n    background-color: #ff4d4f;\n  }\n  .${o.box}.info .${o.icon}::after,\n  .${o.box}.warning .${o.icon}::after {\n    top: 15%;\n    left: 50%;\n    margin-left: -1px;\n    width: 2px;\n    height: 2px;\n    border-radius: 50%;\n  }\n  .${o.box}.info .${o.icon}::before,\n  .${o.box}.warning .${o.icon}::before {\n    top: calc(15% + 4px);\n    left: 50%;\n    margin-left: -1px;\n    width: 2px;\n    height: 40%;\n  }\n  .${o.box}.error .${o.icon}::after, \n  .${o.box}.error .${o.icon}::before {\n    top: 20%;\n    left: 50%;\n    width: 2px;\n    height: 60%;\n    margin-left: -1px;\n    border-radius: 1px;\n  }\n  .${o.box}.error .${o.icon}::after {\n    transform: rotate(-45deg);\n  }\n  .${o.box}.error .${o.icon}::before {\n    transform: rotate(45deg);\n  }\n  .${o.box}.success .${o.icon}::after {\n    box-sizing: content-box;\n    background-color: transparent;\n    border: 2px solid #fff;\n    border-left: 0;\n    border-top: 0;\n    height: 50%;\n    left: 35%;\n    top: 13%;\n    transform: rotate(45deg);\n    width: 20%;\n    transform-origin: center;\n  }\n  `.replace(/(\n|\t|\s)*/gi,"$1").replace(/\n|\t|\s(\{|\}|\,|\:|\;)/gi,"$1").replace(/(\{|\}|\,|\:|\;)\s/gi,"$1"),t.head.appendChild(r);let i=e.zIndex||1e3;const a=[],s=e=>{let t=10;for(let n=0;n<a.length;n++){const o=a[n];if(e&&e===o)break;t+=o.clientHeight+20}return t},l=e=>{for(let t=0;t<a.length;t++){if(a[t]===e){a.splice(t,1);break}}e.classList.add(o.hide),a.forEach((e=>{e.style.top=`${s(e)}px`}))},c=(n,r="info",c)=>{const d=t.createElement("div");d.className=`${o.box} ${r}`,d.style.top=`${s(d)}px`,d.style.zIndex=i.toString(),d.innerHTML=`\n    <span class="${o.icon}"></span>\n    <span class="${o.text}">${n}</span>\n    `,i++,a.push(d),t.body.appendChild(d);const m=()=>{d.removeEventListener("animationend",m),setTimeout(l,c||e.duration||3e3,d)};d.addEventListener("animationend",m);const p=()=>{"0"===getComputedStyle(d).opacity&&(d.removeEventListener("transitionend",p),d.remove())};d.addEventListener("transitionend",p)};return{showMessage:c,showInfoMsg:(e,t)=>{c(e,"info",t)},showSuccessMsg:(e,t)=>{c(e,"success",t)},showWarningMsg:(e,t)=>{c(e,"warning",t)},showErrorMsg:(e,t)=>{c(e,"error",t)}}},{showErrorMsg:x}=b(),v=(e,t)=>{let n=t?new Date(t):new Date,o=n.getFullYear()+"",r=n.getMonth()+1,i=n.getDate(),a=n.getHours(),s=n.getMinutes(),l=n.getSeconds();return e.replace(/YYYY|yyyy/g,o).replace(/YY|yy/g,o.substr(2,2)).replace(/MM/g,(r<10?"0":"")+r).replace(/DD/g,(i<10?"0":"")+i).replace(/HH|hh/g,(a<10?"0":"")+a).replace(/mm/g,(s<10?"0":"")+s).replace(/ss/g,(l<10?"0":"")+l)},y=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,$=()=>{let e=Math.floor(256*Math.random()),t=Math.floor(256*Math.random()),n=Math.floor(256*Math.random());return"#"+e.toString(16)+t.toString(16)+n.toString(16)},w=(e,t,n)=>{try{const o=new Date;o.setDate(o.getDate()+n),document.cookie=`${e}=${t};expires=${o.toUTCString()}`}catch(o){x("Set Cookie Error!",1e3)}},E=e=>{try{if(!g)throw new Error("Non-browser environment, unavailable 'getCookie'");if(!document.cookie)return null;if(e){const t=new RegExp(`(^| )${e}=([^;]*)(;|$)`),n=document.cookie.match(t);return n?n[2]:void 0}return document.cookie.split(";")}catch(t){x("Get Cookie Error!")}};m.configure({easing:"ease",speed:500,showSpinner:!0,trickleSpeed:200,minimum:.3});const _=c({routes:[{name:"notFound",path:"/:path(.*)+",redirect:{name:"login"}},{name:"login",path:"/login",component:()=>l((()=>import("./index-5b03894e.js")),["./index-5b03894e.js","./vue-router-5b243938.js","./@vue-9e8b8607.js","./index-dd9fa986.js","./qr-scanner-wechat-b0946001.js","./nprogress-81a68ea4.js","./@amap-89f34825.js","../css/nprogress-8b89e2e0.css","./vue-i18n-dd590962.js","./@intlify-5d791b8c.js","./pinia-9547b36b.js","../css/index-2c4fac37.css"],import.meta.url),meta:{title:"",isNeedLogin:!1}},{name:"test",path:"/test",component:()=>l((()=>import("./index-536898de.js")),["./index-536898de.js","./qr-scanner-wechat-b0946001.js","./@vue-9e8b8607.js","./vue-router-5b243938.js","./nprogress-81a68ea4.js","./@amap-89f34825.js","../css/nprogress-8b89e2e0.css","./vue-i18n-dd590962.js","./@intlify-5d791b8c.js","./pinia-9547b36b.js","../css/index-a16d8fe4.css"],import.meta.url),meta:{title:"测试",isNeedLogin:!1}},{name:"home",path:"/home",component:()=>l((()=>import("./index-0b547c57.js")),["./index-0b547c57.js","./@vue-9e8b8607.js","./vue-router-5b243938.js","./vue-i18n-dd590962.js","./@intlify-5d791b8c.js","./useEcharts-db5ec1ce.js","./echarts-80de9b66.js","./zrender-88141c8b.js","./tslib-ed971494.js","./qr-scanner-wechat-b0946001.js","./nprogress-81a68ea4.js","./@amap-89f34825.js","../css/nprogress-8b89e2e0.css","./pinia-9547b36b.js","../css/index-fa1428fb.css"],import.meta.url),meta:{title:"",isNeedLogin:!0}},{name:"fund",path:"/fund",component:()=>l((()=>import("./index-9e447239.js")),["./index-9e447239.js","./swiper-11bf7b82.js","./@vue-9e8b8607.js","./ssr-window-792d0f84.js","./dom7-b6dc17d0.js","../css/swiper-1df8f2af.css","./index-dd9fa986.js","./qr-scanner-wechat-b0946001.js","./vue-router-5b243938.js","./nprogress-81a68ea4.js","./@amap-89f34825.js","../css/nprogress-8b89e2e0.css","./vue-i18n-dd590962.js","./@intlify-5d791b8c.js","./pinia-9547b36b.js","../css/index-4dd30a49.css"],import.meta.url),meta:{title:"",isNeedLogin:!0,showTabBar:!0}},{name:"weather",path:"/weather",component:()=>l((()=>import("./index-94ce93ce.js")),["./index-94ce93ce.js","./@vue-9e8b8607.js","./swiper-11bf7b82.js","./ssr-window-792d0f84.js","./dom7-b6dc17d0.js","../css/swiper-1df8f2af.css","./index-dd9fa986.js","./useEcharts-db5ec1ce.js","./echarts-80de9b66.js","./zrender-88141c8b.js","./tslib-ed971494.js","./index-658edb73.js","./pinia-9547b36b.js","./vue-router-5b243938.js","./qr-scanner-wechat-b0946001.js","./nprogress-81a68ea4.js","./@amap-89f34825.js","../css/nprogress-8b89e2e0.css","./vue-i18n-dd590962.js","./@intlify-5d791b8c.js","../css/index-7f2f8053.css"],import.meta.url),meta:{title:"",isNeedLogin:!0,showTabBar:!0}},{name:"weather-amap",path:"/weather/amap",component:()=>l((()=>import("./amap-4cda4ca1.js")),["./amap-4cda4ca1.js","./@vue-9e8b8607.js","./vue-router-5b243938.js","./index-658edb73.js","./pinia-9547b36b.js","./index-dd9fa986.js","./@amap-89f34825.js","./qr-scanner-wechat-b0946001.js","./nprogress-81a68ea4.js","../css/nprogress-8b89e2e0.css","./vue-i18n-dd590962.js","./@intlify-5d791b8c.js","../css/amap-4df69322.css"],import.meta.url),meta:{title:"",isNeedLogin:!0,showTabBar:!0}},{name:"oil",path:"/oil",component:()=>l((()=>import("./index-e3ae3e30.js")),["./index-e3ae3e30.js","./@vue-9e8b8607.js","./echarts-80de9b66.js","./zrender-88141c8b.js","./tslib-ed971494.js","./swiper-11bf7b82.js","./ssr-window-792d0f84.js","./dom7-b6dc17d0.js","../css/swiper-1df8f2af.css","./index-dd9fa986.js","./useEcharts-db5ec1ce.js","./qr-scanner-wechat-b0946001.js","./vue-router-5b243938.js","./nprogress-81a68ea4.js","./@amap-89f34825.js","../css/nprogress-8b89e2e0.css","./vue-i18n-dd590962.js","./@intlify-5d791b8c.js","./pinia-9547b36b.js","../css/index-94f2a2d4.css"],import.meta.url),meta:{title:"",isNeedLogin:!0,showTabBar:!0}},{name:"oilTool",path:"/oilTool",component:()=>l((()=>import("./index-e9e62f43.js")),["./index-e9e62f43.js","./@vue-9e8b8607.js","./qr-scanner-wechat-b0946001.js","./vue-router-5b243938.js","./nprogress-81a68ea4.js","./@amap-89f34825.js","../css/nprogress-8b89e2e0.css","./vue-i18n-dd590962.js","./@intlify-5d791b8c.js","./pinia-9547b36b.js","../css/index-b6e86214.css"],import.meta.url),meta:{title:"",isNeedLogin:!0,showTabBar:!0}},{name:"juhe",path:"/juhe",component:()=>l((()=>import("./index-caafaa8d.js")),["./index-caafaa8d.js","./swiper-11bf7b82.js","./@vue-9e8b8607.js","./ssr-window-792d0f84.js","./dom7-b6dc17d0.js","../css/swiper-1df8f2af.css","./index-dd9fa986.js","./qr-scanner-wechat-b0946001.js","./vue-router-5b243938.js","./nprogress-81a68ea4.js","./@amap-89f34825.js","../css/nprogress-8b89e2e0.css","./vue-i18n-dd590962.js","./@intlify-5d791b8c.js","./pinia-9547b36b.js","../css/index-2094d484.css"],import.meta.url),meta:{title:"",isNeedLogin:!0,showTabBar:!0}},{name:"amap",path:"/amap",component:()=>l((()=>import("./index-ac228b2c.js")),["./index-ac228b2c.js","./index-dd9fa986.js","./@amap-89f34825.js","./index-658edb73.js","./pinia-9547b36b.js","./@vue-9e8b8607.js","./qr-scanner-wechat-b0946001.js","./vue-router-5b243938.js","./nprogress-81a68ea4.js","../css/nprogress-8b89e2e0.css","./vue-i18n-dd590962.js","./@intlify-5d791b8c.js","../css/index-56eb69b6.css"],import.meta.url),meta:{isNeedLogin:!0}},{name:"menu",path:"/menu",component:()=>l((()=>import("./index-5076af3c.js")),["./index-5076af3c.js","./index-dd9fa986.js","./@vue-9e8b8607.js","./qr-scanner-wechat-b0946001.js","./vue-router-5b243938.js","./nprogress-81a68ea4.js","./@amap-89f34825.js","../css/nprogress-8b89e2e0.css","./vue-i18n-dd590962.js","./@intlify-5d791b8c.js","./pinia-9547b36b.js","../css/index-306ff54f.css"],import.meta.url),meta:{isNeedLogin:!1}}],history:d()});_.beforeEach(((e,t,n)=>{var o;const r=null==(o=null==e?void 0:e.meta)?void 0:o.title,i=E("isLogin"),{showWarningMsg:a}=b();m.start(),r&&(document.title=r),e.meta.isNeedLogin?i||"/"===e.path?n():(a("请先登录！",2e3),n("/login")):n()})),_.afterEach((()=>{m.done()}));const L=p({locale:"zh",legacy:!1,messages:{zh:{home:{Fund:"基金涨了吗",Weather:"天气怎么样",CityWeather:"天气时间轴",Bill:"记记账呗",Oil:"油价跌了吗",OilTool:"油价算一算",Juhe:"聚合数据",Menu:"今天吃什么"},weather:{today:"今天",updated:"更新",city:"城市",temp:"天气",humidity:"湿度",wind:"风向",tips:"提示",forecast:"预报"}},en:{home:{Fund:"Fund",Weather:"Weather",CityWeather:"CityWeather",Bill:"Bill",Oil:"Oil",OilTool:"OilTool",Juhe:"Aggregation",Menu:"Menu"},weather:{today:"Today",updated:"Updated",city:"City",temp:"Temp",humidity:"Humidity",wind:"Wind",tips:"Tips",forecast:"Forecast"}}}});const M=(e,t,n)=>{let o=0,r=e.length-1;for(;o<=r;){const i=Math.floor((o+r)/2),a=n.measureText(e.substring(0,i)).width,s=n.measureText(e.substring(0,i+1)).width;if(a<=t&&s>t)return i;a<t?o=i+1:r=i-1}return-1},T=(e,t)=>{const n=e.getContext("2d"),o=t.textArr||[];let r=[];const i=[];o.forEach((e=>{const o=((e,t,n,o)=>{const r=[];let i=0;o&&(e.font=o);let a=M(t,n,e);for(;-1!==a;)r.push(t.substring(0,a)),t=t.substring(a),i=n,a=M(t,n,e);if(t){r.push(t);const n=e.measureText(t).width;i=0!==i?i:n}return{textArr:r,maxWidth:i}})(n,e+"",t.maxWidth,t.font);r=r.concat(o.textArr),i.push(o.maxWidth)})),i.sort(((e,t)=>t-e));const a=Math.max(i[0],k.minWidth),s=t.lineHeight,l=r.length*s,c=Math.PI*t.deg/180,d=Math.abs(c),m=l*Math.sin(d),p=l*Math.cos(d),u=a*Math.sin(d),h=a*Math.cos(d);e.width=parseInt(m+h+t.marginRight+"",10),e.height=parseInt(u+p+t.marginBottom+"",10),n.font=t.font,n.fillStyle=t.fillStyle,n.textBaseline="hanging",n.translate(0,u),n.rotate(c),r.forEach(((e,t)=>{n.fillText(e,0,s*t)}))};let k=new class{constructor(e){t(this,"textArr",["test","自定义水印"]),t(this,"font",'16px "微软雅黑"'),t(this,"fillStyle","rgba(170,170,170,0.4)"),t(this,"maxWidth",200),t(this,"minWidth",120),t(this,"lineHeight",24),t(this,"deg",-45),t(this,"marginRight",120),t(this,"marginBottom",40),t(this,"left",20),t(this,"top",20),t(this,"opacity",".75"),t(this,"position","fixed"),e&&Object.assign(this,e)}};const O=function(e,t){k=Object.assign({},k,t.value||{}),k.minWidth=Math.min(k.maxWidth,k.minWidth);const n=k.textArr;if(!(o=n)||!Array.isArray(o))throw Error("水印文本必须放在数组中！");var o;const r=(()=>{const e=document.createElement("canvas");return e.style.display="none",document.body.appendChild(e),e})();T(r,k),((e,t)=>{if((e=>void 0!==e)(t)){const n=e.toDataURL("image/png"),o=t;o.style.cssText=`position: ${k.position}; left:0; top:0; right:0; bottom:0; z-index:9999; pointer-events:none;opacity:${k.opacity}`,o.style.backgroundImage="url("+n+")",o.style.backgroundPosition=k.left+"px "+k.top+"px"}})(r,e)},j=i(),A={beforeMount(e,t){O(e,t)},mounted(e,t){a((()=>{(e=>{const t=new(0,window.MutationObserver)((function(e,t){for(let n of e)switch(n.type){case"childList":n.removedNodes.length>0&&n.target.append(n.removedNodes[0]);break;case"attributes":n.target.setAttribute("style",n.target.oldValue)}}));t.observe(e,{attributes:!0,childList:!0,subtree:!0,attributeOldValue:!0}),j.value=t})(e)}))},beforeUnmount(){j.value&&(j.value.disconnect(),j.value=null)}};const C={copy:{created(e,{value:t}){e.$value=t,e.handler=()=>{if(!e.$value)return;const t=document.createElement("textarea");t.readOnly="readonly",t.style.position="absolute",t.style.left="-9999px",t.value=e.$value,document.body.appendChild(t),t.select();document.execCommand("Copy");document.body.removeChild(t)},e.addEventListener("click",e.handler)},updated(e,{value:t}){e.$value=t},unmounted(e){e.removeEventListener("click",e.handler)}},longpress:{created(e,t,n){if("function"!=typeof t.value)throw"callback must be a function";let o=null,r=e=>{"click"===e.type&&0!==e.button||null===o&&(o=setTimeout((()=>{a()}),2e3))},i=e=>{null!==o&&(clearTimeout(o),o=null)};const a=e=>{t.value(e)};e.addEventListener("mousedown",r),e.addEventListener("touchstart",r),e.addEventListener("click",i),e.addEventListener("mouseout",i),e.addEventListener("touchend",i),e.addEventListener("touchcancel",i)},updated(e,{value:t}){e.$value=t},unmounted(e){e.removeEventListener("click",e.handler)}},debounce:{mounted:function(e,t){let n;e.addEventListener("click",(()=>{n&&clearTimeout(n),n=setTimeout((()=>{t.value()}),1e3)}))}},emoji:{created:function(e,t,n){const o=/[^\u4E00-\u9FA5|\d|\a-zA-Z|\r\n\s,.?!，。？！…—&$=()-+/*{}[\]]|\s/g;let r=(a="input",(i=e).tagName.toLowerCase()===a?i:i.querySelector(a));var i,a;e.$inp=r,r.handle=function(){let e=r.value;r.value=e.replace(o,""),((e,t)=>{const n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)})(r,"input")},r.addEventListener("keyup",r.handle)},unmounted:function(e){e.$inp.removeEventListener("keyup",$inp.handle)}},permission:{mounted:function(e,t){let n=t.value;if(n){["1","2","3","4"].indexOf(n)>-1||e.parentNode&&e.parentNode.removeChild(e)}}},waterMarker:{created:function(e,t){!function(e,t,n,o){const r=document.createElement("canvas");t.appendChild(r),r.width=200,r.height=150,r.style.display="none";const i=r.getContext("2d");i.rotate(-20*Math.PI/180),i.font=n||"16px Microsoft JhengHei",i.fillStyle=o||"rgba(180, 180, 180, 0.3)",i.textAlign="left",i.textBaseline="middle",i.fillText(e,r.width/10,r.height/2),t.style.backgroundImage=`url(${r.toDataURL("image/png")})`}(t.value.text,e,t.value.font,t.value.textColor)}}},N={install(e){Object.keys(C).forEach((t=>{e.directive(t,C[t])}))}},D=s(f),I=u();D.use(_).use(L).use(I).use(N).directive("water-mask",A).mount("#app");export{h as _,$ as a,v as d,E as g,y as r,w as s,b as u};
