import{_ as a,u as l}from"./index-6c0b5115.js";import{u as e,r as u,V as t,B as n,G as s,H as o,U as i,O as c,W as p,X as v,J as m,N as r,K as d,Y as x,L as f,M as b,F as h,I as g,z as k}from"./@vue-9e8b8607.js";import"./qr-scanner-wechat-b0946001.js";import"./vue-router-5b243938.js";import"./nprogress-81a68ea4.js";import"./@amap-89f34825.js";import"./vue-i18n-dd590962.js";import"./@intlify-5d791b8c.js";import"./pinia-9547b36b.js";const F=a=>(f("data-v-af66d021"),a=a(),b(),a),$={class:"m-input-number",tabindex:"1"},w={class:"u-input-prefix"},y={class:"m-input-wrap"},_=["onKeyup"],M={class:"m-handler-wrap"},T=[F((()=>o("svg",{focusable:"false",class:"u-icon","data-icon":"up","aria-hidden":"true",viewBox:"64 64 896 896"},[o("path",{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"})],-1)))],j=[F((()=>o("svg",{focusable:"false",class:"u-icon","data-icon":"down","aria-hidden":"true",viewBox:"64 64 896 896"},[o("path",{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"})],-1)))],C=a(e({__name:"index",props:{min:{default:-1/0},max:{default:1/0},step:{default:1},prefix:{default:""},keyboard:{type:Boolean,default:!0},value:{default:null}},emits:["update:value","change"],setup(a,{emit:l}){const e=a,f=u();function b(a){l("change",a),l("update:value",a)}function h(a){const l=a.target.value;Number.isNaN(parseFloat(l))?f.value=e.value:(f.value=parseFloat(l),f.value>e.max&&(f.value=e.max),f.value<e.min&&(f.value=e.min),f.value!==e.value&&b(f.value))}function g(a){const l=a.target.value;""===l&&b(null),!Number.isNaN(parseFloat(l))&&parseFloat(l)>=e.min&&parseFloat(l)<=e.max&&parseFloat(l)!==e.value&&(f.value=parseFloat(l),b(parseFloat(l)||0))}function k(a,l){const e=String(a).split(".")[1],u=String(l).split(".")[1];let t=Math.max((null==e?void 0:e.length)||0,(null==u?void 0:u.length)||0),n=a.toFixed(t),s=l.toFixed(t);return(+n.replace(".","")+ +s.replace(".",""))/Math.pow(10,t)}function F(){if(f.value!==e.max){const a=k(f.value||0,+e.step);b(Math.min(e.max,a)),f.value=Math.min(e.max,a)}}function C(){if(f.value!==e.min){const a=k(f.value||0,-e.step);b(Math.max(e.min,a)),f.value=Math.max(e.min,a)}}return t((()=>{f.value=e.value})),(l,e)=>(n(),s("div",$,[o("span",w,[i(l.$slots,"prefix",{},(()=>[r(d(a.prefix),1)]),!0)]),o("div",y,[a.keyboard?c((n(),s("input",{key:0,autocomplete:"off",class:"u-input-number",onChange:h,onInput:g,"onUpdate:modelValue":e[0]||(e[0]=a=>f.value=a),onKeydown:e[1]||(e[1]=v(x((()=>{}),["prevent"]),["up"])),onKeyup:[v(F,["up"]),v(C,["down"])]},null,40,_)),[[p,f.value]]):c((n(),s("input",{key:1,autocomplete:"off",class:"u-input-number",onChange:h,onInput:g,"onUpdate:modelValue":e[2]||(e[2]=a=>f.value=a)},null,544)),[[p,f.value]])]),o("div",M,[o("span",{class:m(["u-up-arrow",{disabled:(f.value||0)>=a.max}]),onClick:F},T,2),o("span",{class:m(["u-down-arrow",{disabled:(f.value||0)<=a.min}]),onClick:C},j,2)])]))}}),[["__scopeId","data-v-af66d021"]]),L={class:"oil-calculator"},N={class:"oil-examples"},U={class:"title"},I={class:"desc"},S={class:"calculator"},V={class:"calculator-item input-item"},B={class:"calculator-item input-item"},E={class:"calculator-item input-item"},K={class:"calculator-item calculator-btns"},z=a(e({__name:"index",props:{consumption:{default:5},price:{default:7},volume:{default:46}},setup(a){const e={NUMS:["一","二","三","四","五","六"],LETTERS:["A","B","C","D","E","F"]},t=u(),i=u(),c=u(),p=u([{title:"市区未开空调",list:[{consumption:4.5},{consumption:5.3}]},{title:"市区开空调",list:[{consumption:5.9},{consumption:6.8}]}]);p.value=p.value.map((a=>({title:a.title,list:[...a.list].concat([{consumption:a.list.reduce(((a,l)=>a+l.consumption),0)/2}])})));const{showWarningMsg:v}=l(),x=u([]);return(l,u)=>(n(),s("div",L,[o("div",N,[(n(!0),s(h,null,g(p.value,((l,u)=>(n(),s("div",{class:m(["examples",u%2==0?"orange":"blue"]),key:u},[o("div",U,[o("span",null,d(`场景${e.NUMS[u]}(${l.title})`),1),o("span",null,d(a.price*a.volume+"r"),1)]),(n(!0),s(h,null,g(l.list,((u,t)=>(n(),s("div",{class:"example",key:t},[o("div",I,[o("span",null,d(t===l.list.length-1?"AV":e.LETTERS[t]),1),o("span",null,d(u.consumption)+"L/100km",1),o("span",null,d(`${u.consumption}*${a.price}/100=${(u.consumption*a.price/100).toFixed(2)}r/km`),1),o("span",null,d(`${a.volume}/${u.consumption}*100=${(a.volume/u.consumption*100).toFixed(0)}km`),1)])])))),128))],2)))),128))]),o("div",S,[o("div",V,[r(" 油耗:"),k(C,{value:t.value,"onUpdate:value":u[0]||(u[0]=a=>t.value=a),min:1,max:20},null,8,["value"])]),o("div",B,[r(" 油价:"),k(C,{value:i.value,"onUpdate:value":u[1]||(u[1]=a=>i.value=a),min:5,max:20},null,8,["value"])]),o("div",E,[r(" 容积:"),k(C,{value:c.value,"onUpdate:value":u[2]||(u[2]=a=>c.value=a),min:20,max:100,step:1},null,8,["value"])]),o("div",K,[o("button",{class:"calculator-btn btn-primary",onClick:u[3]||(u[3]=a=>(()=>{if(!t.value)return void v("请输入油耗！");if(!i.value)return void v("请输入油价！");if(!c.value)return void v("请输入容积！");const a=`${t.value}L/100km`,l=`${t.value}*${i.value}/100=${(t.value*i.value/100).toFixed(2)}r/km`,e=`${c.value}/${t.value}*100=${(c.value/t.value*100).toFixed(2)}km`;x.value.push({oilConsumptionTxt:a,oilPriceTxt:l,oilVolumeTxt:e})})())},"计算"),o("button",{class:"calculator-btn btn-default",onClick:u[4]||(u[4]=a=>(t.value=null,i.value=null,void(c.value=null)))},"重置")]),(n(!0),s(h,null,g(x.value,((a,l)=>(n(),s("div",{class:"calculator-item calculator-desc",key:l},[o("span",null,d(a.oilConsumptionTxt),1),o("span",null,d(a.oilPriceTxt),1),o("span",null,d(a.oilVolumeTxt),1)])))),128))])]))}}),[["__scopeId","data-v-ea5dccb2"]]),A={class:"oil-tool"},P=a(e({__name:"index",setup:a=>(a,l)=>(n(),s("div",A,[k(z,{consumption:5.2,price:7,volume:46},null,8,["consumption"])]))}),[["__scopeId","data-v-289e153d"]]);export{P as default};
