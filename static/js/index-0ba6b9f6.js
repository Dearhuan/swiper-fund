import{s as e}from"./qr-scanner-wechat-b0946001.js";import{u as t,r as l,B as r,G as n,H as a}from"./@vue-9e8b8607.js";import{_ as i}from"./index-c60664d7.js";import"./vue-router-5b243938.js";import"./nprogress-81a68ea4.js";import"./@amap-89f34825.js";import"./vue-i18n-dd590962.js";import"./@intlify-5d791b8c.js";import"./pinia-9547b36b.js";const s=["src"],o=i(t({__name:"index",setup(t){var i;const o=l(),c=l(""),d=l(),u=new Map,f=l(),p=async t=>{var l;const r=t.target;if(!r)return;if(!(null==(l=r.files)?void 0:l.length))return;const n=r.files[0],a=URL.createObjectURL(n);c.value=a;const i=document.createElement("canvas");i.width=300,i.height=300;const s=i.getContext("2d",{willReadFrequently:!0});d.value&&(d.value.onload=async()=>{var t;if(s){s.drawImage(d.value,0,0,300,300),null==(t=o.value)||t.appendChild(i),s.fillStyle="black";for(let t=0;t<5;t++){const t=await e(i);if(!t.rect||!t.text)continue;u.set(t.text,t.rect);const{x:l,y:r,width:n,height:a}=t.rect;s.fillRect(l,r,n,a)}u.forEach(((e,t)=>{if(!f.value)return;const l=document.createElement("div"),{x:r,y:n,width:a,height:i}=e,s=(r||0)+a/2-20,o=(n||0)+i/2-20;l.className="blue-chunk",l.style.width="40px",l.style.height="40px",l.style.background="#2ec1cc",l.style.position="absolute",l.style.zIndex="9999999",l.style.top=o+"px",l.style.left=s+"px",l.style.color="#fff",l.style.textAlign="center",l.style.borderRadius="100px",l.style.borderBlockColor="#fff",l.style.borderColor="unset",l.style.borderRightStyle="solid",l.style.borderWidth="3px",l.style.animation="scale-animation 2s infinite",l.addEventListener("click",(()=>{})),f.value.appendChild(l)}))}})};let m="";return(null==(i=null==document?void 0:document.querySelector("#Q5t3T"))?void 0:i.querySelector("table")).querySelectorAll("tr").forEach(((e,t)=>{let l="";e.querySelectorAll("td").forEach((e=>{const t=e.innerText.trim().length>0;l+=`${e.innerText.trim()}${t?" ":""}`})),m+=`${l}\n`})),(e,t)=>(r(),n("div",{ref_key:"wrapper",ref:o,class:"w-full h-full bg-red flex flex-col items-center"},[a("div",{ref_key:"imgWrapper",ref:f,class:"relative"},[a("img",{src:c.value,ref_key:"imgEl",ref:d,alt:"",class:"w-300px h-300px object-contain"},null,8,s)],512),a("div",null,[a("input",{type:"file",onChange:p,accept:"image/*"},null,32)])],512))}}),[["__scopeId","data-v-f3cd6ff4"]]);export{o as default};
