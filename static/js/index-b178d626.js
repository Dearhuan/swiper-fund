var e=Object.defineProperty,t=(t,n,o)=>(((t,n,o)=>{n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o})(t,"symbol"!=typeof n?n+"":n,o),o);import{B as n,C as o,D as r,r as i,n as a,E as s}from"./@vue-94596693.js";import{c as l,a as c}from"./vue-router-b8c8be6a.js";import{N as d}from"./nprogress-81a68ea4.js";import{c as p}from"./vue-i18n-0f116685.js";import{c as m}from"./pinia-0694a2ea.js";import"./@amap-89f34825.js";import"./@intlify-5d791b8c.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const h=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n};const u=h({},[["render",function(e,t){const i=r("router-view");return n(),o(i)}]]),f={},g=function(e,t,n){if(!t||0===t.length)return e();const o=document.getElementsByTagName("link");return Promise.all(t.map((e=>{if(e=function(e,t){return new URL(e,t).href}(e,n),e in f)return;f[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(!!n)for(let n=o.length-1;n>=0;n--){const r=o[n];if(r.href===e&&(!t||"stylesheet"===r.rel))return}else if(document.querySelector(`link[href="${e}"]${r}`))return;const i=document.createElement("link");return i.rel=t?"stylesheet":"modulepreload",t||(i.as="script",i.crossOrigin=""),i.href=e,document.head.appendChild(i),t?new Promise(((t,n)=>{i.addEventListener("load",t),i.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${e}`))))})):void 0}))).then((()=>e()))},b=!("undefined"==typeof window),x=(e={})=>{const t=document,n=`__${Math.random().toString(36).slice(2,7)}`,o={box:`msg-box${n}`,hide:`hide${n}`,text:`msg-text${n}`,icon:`msg-icon${n}`},r=t.createElement("style");r.textContent=`\n  .${o.box}, .${o.icon}, .${o.text} {\n    padding: 0;\n    margin: 0;\n    box-sizing: border-box;\n  }\n  .${o.box} {\n    position: fixed;\n    top: 0;\n    left: 50%;\n    display: flex;\n    padding: 12px 16px;\n    border-radius: 2px;\n    background-color: #fff;\n    box-shadow: 0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12);\n    white-space: nowrap;\n    animation: ${o.box}-move .4s;\n    transition: .4s all;\n    transform: translate3d(-50%, 0%, 0);\n    opacity: 1;\n    overflow: hidden;\n  }\n  .${o.box}::after {\n    content: "";\n    position: absolute;\n    left: 0;\n    top: 0;\n    height: 100%;\n    width: 4px;\n  }\n  @keyframes ${o.box}-move {\n    0% {\n      opacity: 0;\n      transform: translate3d(-50%, -100%, 0);\n    }\n    100% {\n      opacity: 1;\n      transform: translate3d(-50%, 0%, 0);\n    }\n  }\n  .${o.box}.${o.hide} {\n    opacity: 0;\n    /* transform: translate3d(-50%, -100%, 0); */\n    transform: translate3d(-50%, -100%, 0) scale(0);\n  }\n  .${o.icon} {\n    display: inline-block;\n    width: 18px;\n    height: 18px;\n    border-radius: 50%;\n    overflow: hidden;\n    margin-right: 6px;\n    position: relative;\n  }\n  .${o.text} {\n    font-size: 14px;\n    line-height: 18px;\n    color: #555;\n  }\n  .${o.icon}::after,\n  .${o.icon}::before {\n    position: absolute;\n    content: "";\n    background-color: #fff;\n  }\n  .${o.box}.info .${o.icon}, .${o.box}.info::after {\n    background-color: #1890ff;\n  }\n  .${o.box}.success .${o.icon}, .${o.box}.success::after {\n    background-color: #52c41a;\n  }\n  .${o.box}.warning .${o.icon}, .${o.box}.warning::after {\n    background-color: #faad14;\n  }\n  .${o.box}.error .${o.icon}, .${o.box}.error::after {\n    background-color: #ff4d4f;\n  }\n  .${o.box}.info .${o.icon}::after,\n  .${o.box}.warning .${o.icon}::after {\n    top: 15%;\n    left: 50%;\n    margin-left: -1px;\n    width: 2px;\n    height: 2px;\n    border-radius: 50%;\n  }\n  .${o.box}.info .${o.icon}::before,\n  .${o.box}.warning .${o.icon}::before {\n    top: calc(15% + 4px);\n    left: 50%;\n    margin-left: -1px;\n    width: 2px;\n    height: 40%;\n  }\n  .${o.box}.error .${o.icon}::after, \n  .${o.box}.error .${o.icon}::before {\n    top: 20%;\n    left: 50%;\n    width: 2px;\n    height: 60%;\n    margin-left: -1px;\n    border-radius: 1px;\n  }\n  .${o.box}.error .${o.icon}::after {\n    transform: rotate(-45deg);\n  }\n  .${o.box}.error .${o.icon}::before {\n    transform: rotate(45deg);\n  }\n  .${o.box}.success .${o.icon}::after {\n    box-sizing: content-box;\n    background-color: transparent;\n    border: 2px solid #fff;\n    border-left: 0;\n    border-top: 0;\n    height: 50%;\n    left: 35%;\n    top: 13%;\n    transform: rotate(45deg);\n    width: 20%;\n    transform-origin: center;\n  }\n  `.replace(/(\n|\t|\s)*/gi,"$1").replace(/\n|\t|\s(\{|\}|\,|\:|\;)/gi,"$1").replace(/(\{|\}|\,|\:|\;)\s/gi,"$1"),t.head.appendChild(r);let i=e.zIndex||1e3;const a=[],s=e=>{let t=10;for(let n=0;n<a.length;n++){const o=a[n];if(e&&e===o)break;t+=o.clientHeight+20}return t},l=e=>{for(let t=0;t<a.length;t++){if(a[t]===e){a.splice(t,1);break}}e.classList.add(o.hide),a.forEach((e=>{e.style.top=`${s(e)}px`}))},c=(n,r="info",c)=>{const d=t.createElement("div");d.className=`${o.box} ${r}`,d.style.top=`${s(d)}px`,d.style.zIndex=i.toString(),d.innerHTML=`\n    <span class="${o.icon}"></span>\n    <span class="${o.text}">${n}</span>\n    `,i++,a.push(d),t.body.appendChild(d);const p=()=>{d.removeEventListener("animationend",p),setTimeout(l,c||e.duration||3e3,d)};d.addEventListener("animationend",p);const m=()=>{"0"===getComputedStyle(d).opacity&&(d.removeEventListener("transitionend",m),d.remove())};d.addEventListener("transitionend",m)};return{showMessage:c,showInfoMsg:(e,t)=>{c(e,"info",t)},showSuccessMsg:(e,t)=>{c(e,"success",t)},showWarningMsg:(e,t)=>{c(e,"warning",t)},showErrorMsg:(e,t)=>{c(e,"error",t)}}},{showErrorMsg:y}=x(),$=(e,t)=>{let n=t?new Date(t):new Date,o=n.getFullYear()+"",r=n.getMonth()+1,i=n.getDate(),a=n.getHours(),s=n.getMinutes(),l=n.getSeconds();return e.replace(/YYYY|yyyy/g,o).replace(/YY|yy/g,o.substr(2,2)).replace(/MM/g,(r<10?"0":"")+r).replace(/DD/g,(i<10?"0":"")+i).replace(/HH|hh/g,(a<10?"0":"")+a).replace(/mm/g,(s<10?"0":"")+s).replace(/ss/g,(l<10?"0":"")+l)},w=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,v=(e,t,n)=>{try{const o=new Date;o.setDate(o.getDate()+n),document.cookie=`${e}=${t};expires=${o.toUTCString()}`}catch(o){y("Set Cookie Error!",1e3)}};d.configure({easing:"ease",speed:500,showSpinner:!0,trickleSpeed:200,minimum:.3});const _=l({routes:[{name:"notFound",path:"/:path(.*)+",redirect:{name:"login"}},{name:"login",path:"/login",component:()=>g((()=>import("./index-5296c18a.js")),["./index-5296c18a.js","./vue-router-b8c8be6a.js","./@vue-94596693.js","./index-c2adc297.js","./nprogress-81a68ea4.js","./@amap-89f34825.js","../css/nprogress-8b89e2e0.css","./vue-i18n-0f116685.js","./@intlify-5d791b8c.js","./pinia-0694a2ea.js","../css/index-0ee7b7c6.css"],import.meta.url),meta:{title:"登录",isNeedLogin:!1}},{name:"home",path:"/home",component:()=>g((()=>import("./index-22f78d6a.js")),["./index-22f78d6a.js","./@vue-94596693.js","./vue-router-b8c8be6a.js","./vue-i18n-0f116685.js","./@intlify-5d791b8c.js","./useEcharts-1ef9ea1f.js","./echarts-80de9b66.js","./zrender-88141c8b.js","./tslib-ed971494.js","./nprogress-81a68ea4.js","./@amap-89f34825.js","../css/nprogress-8b89e2e0.css","./pinia-0694a2ea.js","../css/index-e4998896.css"],import.meta.url),meta:{title:"",isNeedLogin:!0}},{name:"fund",path:"/fund",component:()=>g((()=>import("./index-d29872c8.js")),["./index-d29872c8.js","./swiper-41a25130.js","./@vue-94596693.js","./ssr-window-792d0f84.js","./dom7-b6dc17d0.js","../css/swiper-1df8f2af.css","./index-c2adc297.js","./vue-router-b8c8be6a.js","./nprogress-81a68ea4.js","./@amap-89f34825.js","../css/nprogress-8b89e2e0.css","./vue-i18n-0f116685.js","./@intlify-5d791b8c.js","./pinia-0694a2ea.js","../css/index-4dd30a49.css"],import.meta.url),meta:{title:"基金",isNeedLogin:!0,showTabBar:!0}},{name:"weather",path:"/weather",component:()=>g((()=>import("./index-34c2c508.js")),["./index-34c2c508.js","./@vue-94596693.js","./swiper-41a25130.js","./ssr-window-792d0f84.js","./dom7-b6dc17d0.js","../css/swiper-1df8f2af.css","./index-c2adc297.js","./useEcharts-1ef9ea1f.js","./echarts-80de9b66.js","./zrender-88141c8b.js","./tslib-ed971494.js","./index-ab05e5a3.js","./pinia-0694a2ea.js","./vue-router-b8c8be6a.js","./nprogress-81a68ea4.js","./@amap-89f34825.js","../css/nprogress-8b89e2e0.css","./vue-i18n-0f116685.js","./@intlify-5d791b8c.js","../css/index-22bd9a30.css"],import.meta.url),meta:{title:"天气",isNeedLogin:!0,showTabBar:!0}},{name:"oil",path:"/oil",component:()=>g((()=>import("./index-7bb253d5.js")),["./index-7bb253d5.js","./@vue-94596693.js","./echarts-80de9b66.js","./zrender-88141c8b.js","./tslib-ed971494.js","./swiper-41a25130.js","./ssr-window-792d0f84.js","./dom7-b6dc17d0.js","../css/swiper-1df8f2af.css","./index-c2adc297.js","./useEcharts-1ef9ea1f.js","./vue-router-b8c8be6a.js","./nprogress-81a68ea4.js","./@amap-89f34825.js","../css/nprogress-8b89e2e0.css","./vue-i18n-0f116685.js","./@intlify-5d791b8c.js","./pinia-0694a2ea.js","../css/index-94f2a2d4.css"],import.meta.url),meta:{title:"油价",isNeedLogin:!0,showTabBar:!0}},{name:"oilTool",path:"/oilTool",component:()=>g((()=>import("./index-9221a517.js")),["./index-9221a517.js","./@vue-94596693.js","./vue-router-b8c8be6a.js","./nprogress-81a68ea4.js","./@amap-89f34825.js","../css/nprogress-8b89e2e0.css","./vue-i18n-0f116685.js","./@intlify-5d791b8c.js","./pinia-0694a2ea.js","../css/index-b6e86214.css"],import.meta.url),meta:{title:"油价计算器",isNeedLogin:!0,showTabBar:!0}},{name:"juhe",path:"/juhe",component:()=>g((()=>import("./index-7230c19f.js")),["./index-7230c19f.js","./swiper-41a25130.js","./@vue-94596693.js","./ssr-window-792d0f84.js","./dom7-b6dc17d0.js","../css/swiper-1df8f2af.css","./index-c2adc297.js","./vue-router-b8c8be6a.js","./nprogress-81a68ea4.js","./@amap-89f34825.js","../css/nprogress-8b89e2e0.css","./vue-i18n-0f116685.js","./@intlify-5d791b8c.js","./pinia-0694a2ea.js","../css/index-2094d484.css"],import.meta.url),meta:{title:"聚合",isNeedLogin:!0,showTabBar:!0}},{name:"amap",path:"/amap",component:()=>g((()=>import("./index-eb9f7df5.js")),["./index-eb9f7df5.js","./index-c2adc297.js","./@amap-89f34825.js","./index-ab05e5a3.js","./pinia-0694a2ea.js","./@vue-94596693.js","./vue-router-b8c8be6a.js","./nprogress-81a68ea4.js","../css/nprogress-8b89e2e0.css","./vue-i18n-0f116685.js","./@intlify-5d791b8c.js","../css/index-56eb69b6.css"],import.meta.url),meta:{isNeedLogin:!0}}],history:c()});_.beforeEach(((e,t,n)=>{var o;const r=null==(o=null==e?void 0:e.meta)?void 0:o.title,i=(e=>{try{if(!b)throw new Error("Non-browser environment, unavailable 'getCookie'");if(!document.cookie)return null;if(e){const t=new RegExp(`(^| )${e}=([^;]*)(;|$)`),n=document.cookie.match(t);return n?n[2]:void 0}return document.cookie.split(";")}catch(t){y("Get Cookie Error!")}})("isLogin"),{showWarningMsg:a}=x();d.start(),r&&(document.title=r),e.meta.isNeedLogin?i||"/"===e.path?n():(a("请先登录！",2e3),n("/login")):n()})),_.afterEach((()=>{d.done()}));const E=p({locale:"en",legacy:!1,messages:{zh:{home:{Fund:"基金",Weather:"天气",Bill:"记账本",Oil:"油价",OilTool:"油价计算器",Juhe:"聚合"},weather:{today:"今天",updated:"更新",city:"城市",temp:"天气",humidity:"湿度",wind:"风向",tips:"提示",forecast:"预报"}},en:{home:{Fund:"Fund",Weather:"Weather",Bill:"Bill",Oil:"Oil",OilTool:"OilTool",Juhe:"Aggregation"},weather:{today:"Today",updated:"Updated",city:"City",temp:"Temp",humidity:"Humidity",wind:"Wind",tips:"Tips",forecast:"Forecast"}}}});const L=(e,t,n)=>{let o=0,r=e.length-1;for(;o<=r;){const i=Math.floor((o+r)/2),a=n.measureText(e.substring(0,i)).width,s=n.measureText(e.substring(0,i+1)).width;if(a<=t&&s>t)return i;a<t?o=i+1:r=i-1}return-1},T=(e,t)=>{const n=e.getContext("2d"),o=t.textArr||[];let r=[];const i=[];o.forEach((e=>{const o=((e,t,n,o)=>{const r=[];let i=0;o&&(e.font=o);let a=L(t,n,e);for(;-1!==a;)r.push(t.substring(0,a)),t=t.substring(a),i=n,a=L(t,n,e);if(t){r.push(t);const n=e.measureText(t).width;i=0!==i?i:n}return{textArr:r,maxWidth:i}})(n,e+"",t.maxWidth,t.font);r=r.concat(o.textArr),i.push(o.maxWidth)})),i.sort(((e,t)=>t-e));const a=Math.max(i[0],k.minWidth),s=t.lineHeight,l=r.length*s,c=Math.PI*t.deg/180,d=Math.abs(c),p=l*Math.sin(d),m=l*Math.cos(d),h=a*Math.sin(d),u=a*Math.cos(d);e.width=parseInt(p+u+t.marginRight+"",10),e.height=parseInt(h+m+t.marginBottom+"",10),n.font=t.font,n.fillStyle=t.fillStyle,n.textBaseline="hanging",n.translate(0,h),n.rotate(c),r.forEach(((e,t)=>{n.fillText(e,0,s*t)}))};let k=new class{constructor(e){t(this,"textArr",["test","自定义水印"]),t(this,"font",'16px "微软雅黑"'),t(this,"fillStyle","rgba(170,170,170,0.4)"),t(this,"maxWidth",200),t(this,"minWidth",120),t(this,"lineHeight",24),t(this,"deg",-45),t(this,"marginRight",120),t(this,"marginBottom",40),t(this,"left",20),t(this,"top",20),t(this,"opacity",".75"),t(this,"position","fixed"),e&&Object.assign(this,e)}};const M=function(e,t){k=Object.assign({},k,t.value||{}),k.minWidth=Math.min(k.maxWidth,k.minWidth);const n=k.textArr;if(!(o=n)||!Array.isArray(o))throw Error("水印文本必须放在数组中！");var o;const r=(()=>{const e=document.createElement("canvas");return e.style.display="none",document.body.appendChild(e),e})();T(r,k),((e,t)=>{if((e=>void 0!==e)(t)){const n=e.toDataURL("image/png"),o=t;o.style.cssText=`position: ${k.position}; left:0; top:0; right:0; bottom:0; z-index:9999; pointer-events:none;opacity:${k.opacity}`,o.style.backgroundImage="url("+n+")",o.style.backgroundPosition=k.left+"px "+k.top+"px"}})(r,e)},O=i(),j={beforeMount(e,t){M(e,t)},mounted(e,t){a((()=>{(e=>{const t=new(0,window.MutationObserver)((function(e,t){for(let n of e)switch(n.type){case"childList":n.removedNodes.length>0&&n.target.append(n.removedNodes[0]);break;case"attributes":n.target.setAttribute("style",n.target.oldValue)}}));t.observe(e,{attributes:!0,childList:!0,subtree:!0,attributeOldValue:!0}),O.value=t})(e)}))},beforeUnmount(){O.value&&(O.value.disconnect(),O.value=null)}},A=s(u),D=m();A.use(_).use(E).use(D).directive("water-mask",j).mount("#app");export{h as _,$ as d,w as r,v as s,x as u};
